<div class="page">
  <a routerLink="/cuenta" class="back">← Volver a mi cuenta</a>
  <h1>Cambiar contraseña</h1>
  <div class="form-card">
    <form (ngSubmit)="guardar()">
      <div class="form-row">
        <label>Contraseña actual *</label>
        <input [(ngModel)]="form.currentPassword" name="currentPassword" type="password" required />
      </div>
      <div class="form-row">
        <label>Nueva contraseña *</label>
        <input [(ngModel)]="form.newPassword" name="newPassword" type="password" required />
      </div>
      <div class="form-row">
        <label>Confirmar nueva contraseña *</label>
        <input [(ngModel)]="form.confirmPassword" name="confirmPassword" type="password" required />
      </div>
      @if (error) {
        <p class="error">{{ error }}</p>
      }
      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="cancelar()">Cancelar</button>
        <button type="submit" class="btn-primary" [disabled]="saving">{{ saving ? 'Guardando...' : 'Guardar' }}</button>
      </div>
    </form>
  </div>
</div>
